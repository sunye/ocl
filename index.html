<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui"><title>OCL: The Object Constraint Language</title><link rel="stylesheet" href="reveal.js/css/reset.css"><link rel="stylesheet" href="reveal.js/css/reveal.css"><link rel="stylesheet" href="reveal.js/css/theme/stereopticon.css" id="theme"><!--This CSS is generated by the Asciidoctor reveal.js converter to further integrate AsciiDoc's existing semantic with reveal.js--><style type="text/css">.reveal div.right{float:right}

/* listing block */
.reveal .listingblock.stretch>.content{height: 100%}
.reveal .listingblock.stretch>.content>pre{height: 100%}
.reveal .listingblock.stretch>.content>pre>code{height:100%;max-height:100%}

/* tables */
table{border-collapse:collapse;border-spacing:0}
table{margin-bottom:1.25em;border:solid 1px #dedede}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
td.tableblock>.content{margin-bottom:1.25em}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
.reveal table th.halign-left,.reveal table td.halign-left{text-align:left}
.reveal table th.halign-right,.reveal table td.halign-right{text-align:right}
.reveal table th.halign-center,.reveal table td.halign-center{text-align:center}
.reveal table th.valign-top,.reveal table td.valign-top{vertical-align:top}
.reveal table th.valign-bottom,.reveal table td.valign-bottom{vertical-align:bottom}
.reveal table th.valign-middle,.reveal table td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{font-weight:bold}
thead{display:table-header-group}

.reveal table.grid-none th,.reveal table.grid-none td{border-bottom:0!important}

/* kbd macro */
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}

/* callouts */
.conum[data-value] {display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:50%;border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
/* Callout list */
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
/* Disabled from Asciidoctor CSS because it caused callout list to go under the
 * source listing when .stretch is applied (see #335)
 * .literalblock+.colist,.listingblock+.colist{margin-top:-.5em} */
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}

/* Override Asciidoctor CSS that causes issues with reveal.js features */
.reveal .hljs table{border: 0}
/* Callout list rows would have a bottom border with some reveal.js themes (see #335) */
.reveal .colist>table th, .reveal .colist>table td {border-bottom:0}
/* Fixes line height with Highlight.js source listing when linenums enabled (see #331) */
.reveal .hljs table thead tr th, .reveal .hljs table tfoot tr th, .reveal .hljs table tbody tr td, .reveal .hljs table tr td, .reveal .hljs table tfoot tr td{line-height:inherit}

/* Columns layout */
.columns .slide-content {
  display: flex;
}

.columns.wrap .slide-content {
  flex-wrap: wrap;
}

.columns.is-vcentered .slide-content {
  align-items: center;
}

.columns .slide-content > .column {
  display: block;
  flex-basis: 0;
  flex-grow: 1;
  flex-shrink: 1;
  padding: .75rem;
}

.columns .slide-content > .column.is-full {
  flex: none;
  width: 100%;
}

.columns .slide-content > .column.is-four-fifths {
  flex: none;
  width: 80%;
}

.columns .slide-content > .column.is-three-quarters {
  flex: none;
  width: 75%;
}

.columns .slide-content > .column.is-two-thirds {
  flex: none;
  width: 66.6666%;
}

.columns .slide-content > .column.is-three-fifths {
  flex: none;
  width: 60%;
}

.columns .slide-content > .column.is-half {
  flex: none;
  width: 50%;
}

.columns .slide-content > .column.is-two-fifths {
  flex: none;
  width: 40%;
}

.columns .slide-content > .column.is-one-third {
  flex: none;
  width: 33.3333%;
}

.columns .slide-content > .column.is-one-quarter {
  flex: none;
  width: 25%;
}

.columns .slide-content > .column.is-one-fifth {
  flex: none;
  width: 20%;
}
</style><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/v4-shims.min.css"><!--Printing and PDF exports--><script>var link = document.createElement( 'link' );
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = window.location.search.match( /print-pdf/gi ) ? "reveal.js/css/print/pdf.css" : "reveal.js/css/print/paper.css";
document.getElementsByTagName( 'head' )[0].appendChild( link );</script></head><body><div class="reveal"><div class="slides"><section class="title" data-state="title"><h1>OCL</h1><h2>The Object Constraint Language</h2><div class="preamble"><div class="paragraph"><p>Gerson Sunyé &lt;<a href="mailto:gerson.sunye@univ-nantes.fr">gerson.sunye@univ-nantes.fr</a>&gt;</p></div></div></section>
<section><h2>License</h2><div class="slide-content"><div class="paragraph"><p>This work is licensed under a <a href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International License</a>.</p></div>
<div class="paragraph"><p><a href="http://creativecommons.org/licenses/by-nc/4.0/"><span class="image"><img src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" alt="Creative Commons License"></span></a></p></div></div></section>
<section><h2>Plan</h2><div class="slide-content"><div class="olist arabic"><ol class="arabic"><li><p><strong>Introduction</strong></p></li><li><p>Invariants</p></li><li><p>Model Navigation</p></li><li><p>Property Definition</p></li><li><p>Operation Specification</p></li><li><p>Advanced Topics</p></li><li><p>Conclusion</p></li><li><p>Appendix - Language Details</p></li></ol></div></div></section>
<section class="impact"><h2>Introduction</h2></section>
<section><h2>What is OCL?</h2><div class="slide-content"><div class="paragraph"><p>OCL stands for «Object Constraint Language».</p></div>
<div class="ulist"><div class="title">OCL is:</div><ul><li><p>a OMG standard (see <a href="http://www.omg.org/spec/OCL/" class="bare">http://www.omg.org/spec/OCL/</a>).</p></li><li><p>a formal and unambiguous language, but easy to use (even for non mathematicians).</p></li><li><p>a complement to UML (and also to MOF, but that is another history).</p></li></ul></div></div></section>
<section><h2>Why do I need OCL?</h2><div class="slide-content"><div class="paragraph"><p>Sometimes, the UML lacks precision. Suppose the following class diagram:</p></div>
<div class="imageblock" style="text-align: center"><img src="images/family.png" alt="family" width="400px"></div>
<div class="ulist"><ul><li><p>How do you specify that this class only considers people born after 1900?</p></li><li><p>And how do you specify that cycles are not allowed (i.e., that a person cannot be an ancestor of himself)?</p></li></ul></div></div></section>
<section class="columns"><h2>What About Comments?</h2><div class="slide-content"><div class="openblock column is-half"><div class="content"><div class="imageblock" style="text-align: center"><img src="images/marriage.png" alt="marriage" width="600px"></div>
<div class="imageblock" style="text-align: center"><img src="images/anna-bob-carol.png" alt="anna bob carol" width="600px"></div></div></div>
<div class="ulist column"><ul><li><p>Comments, expressed in natural languages, are often very useful.</p></li><li><p>But sometimes, they are also ambiguous.</p></li><li><p>Still, comments cannot avoid some situations.</p></li></ul></div></div></section>
<section><h2>How can OCL add more precision to UML?</h2><div class="slide-content"><div class="ulist"><ul><li><p>By adding <em>constraints</em> to modeling elements:</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Person</span>
<span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">wife</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">notEmpty</span><span style="background-color: #f8f8f8">()</span> <span style="color: #000000;font-weight: bold">implies</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">wife</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">husband</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #0086B3">self</span> <span style="color: #000000;font-weight: bold">and</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">husband</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">notEmpty</span><span style="background-color: #f8f8f8">()</span> <span style="color: #000000;font-weight: bold">implies</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">husband</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">wife</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #0086B3">self</span></code></pre></div></div>
<div class="imageblock" style="text-align: center"><img src="images/marriage.png" alt="marriage" width="800px"></div></div></section>
<section><h2>Plan</h2><div class="slide-content"><div class="olist arabic"><ol class="arabic"><li><p>Introduction</p></li><li><p><strong>Invariants</strong></p></li><li><p>Model Navigation</p></li><li><p>Property Definition</p></li><li><p>Operation Specification</p></li><li><p>Advanced Topics</p></li><li><p>Conclusion</p></li><li><p>Appendix - Language Details</p></li></ol></div></div></section>
<section class="impact"><h2>Invariants</h2></section>
<section><h2>Class Invariants</h2><div class="slide-content"><div class="ulist"><ul><li><p>A class invariant is a constraint that must be verified by all instances of a class, when in a <strong>stable state</strong>.</p></li><li><p>The notion of stable state is important: an invariant may be broken during the execution of an operation.</p></li><li><p>It is commonly accepted that an instance is in a stable state between the execution of two public operations.</p></li></ul></div></div></section>
<section><h2>Invariants: Graphical Notation</h2><div class="slide-content"><div class="ulist"><ul><li><p>Invariants can be placed directly on the modeling element, between braces ({}) or on a comment attached to it:</p></li></ul></div>
<div class="imageblock" style="text-align: center"><img src="images/person-inv.png" alt="person inv" width="400px"></div>
<div class="imageblock" style="text-align: center"><img src="images/person-inv-note.png" alt="person inv note" width="800px"></div></div></section>
<section><h2>Invariants: Textual Notation</h2><div class="slide-content"><div class="paragraph"><p>Invariants may also be placed on a separate document. In this case, the notion of <strong>context</strong> is important.</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Person</span> <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">age</span> <span style="color: #000000;font-weight: bold">&lt;</span> <span style="color: #009999">150</span>

<span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Person</span> <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">age</span> <span style="color: #000000;font-weight: bold">&lt;</span> <span style="color: #009999">150</span></code></pre></div></div></div></section>
<section><h2>«Context»</h2><div class="slide-content"><div class="ulist"><ul><li><p>Every OCL expression is attached to a specific <strong>context</strong>: a UML modeling element.</p></li><li><p>The context may be referenced inside the expression using the <code>self</code> keyword.</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Person</span> <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">age</span> <span style="color: #000000;font-weight: bold">&lt;</span> <span style="color: #009999">150</span>
<span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Person</span> <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">age</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">0</span></code></pre></div></div>
<div class="imageblock" style="text-align: center"><img src="images/diag-96ed00e4904cfe7428a7de417d78e85b.png" alt="Diagram"></div></div></section>
<section><h2>Context Properties</h2><div class="slide-content"><div class="ulist"><ul><li><p>The context allows the access to some properties from the attached modeling element.</p></li><li><p>In the case of a UML class, this means: attributes, query operations, and states (from attached state machines).</p></li></ul></div>
<div class="imageblock" style="text-align: center"><img src="images/person.png" alt="person" width="600px"></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Person</span>
<span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span>
  <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">name</span><span style="background-color: #f8f8f8">.</span><span style="color: #990000;font-weight: bold">size</span><span style="background-color: #f8f8f8">()</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">1</span> <span style="color: #000000;font-weight: bold">and</span>
  <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">age</span><span style="background-color: #f8f8f8">()</span> <span style="color: #000000;font-weight: bold">&gt;=</span> <span style="color: #009999">0</span> <span style="color: #000000;font-weight: bold">and</span>
  <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="color: #990000;font-weight: bold">oclInState</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">Single</span><span style="background-color: #f8f8f8">)</span></code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>While it is possible to check a state within an invariant, this is not logical.</p></div></aside></div></section>
<section><h2>Plan</h2><div class="slide-content"><div class="olist arabic"><ol class="arabic"><li><p>Introduction</p></li><li><p>Invariants</p></li><li><p><strong>Model Navigation</strong></p></li><li><p>Property Definition</p></li><li><p>Operation Specification</p></li><li><p>Advanced Topics</p></li><li><p>Conclusion</p></li><li><p>Appendix - Language Details</p></li></ol></div></div></section>
<section class="impact"><h2>Model Navigation</h2></section>
<section class="columns"><h2>OCL &amp; UML: Basic Principles</h2><div class="slide-content"><div class="openblock column is-half"><div class="content"><div class="ulist"><ul><li><p>OCL expressions have no side effect, they cannot modify the model.</p></li><li><p>A OCL expression refers to the following constituents:</p><div class="ulist"><ul><li><p>Values of basic types: <code>Integer</code>, <code>Real</code>, <code>Boolean</code>, <code>String</code>, <code>UnlimitedNatural</code>;</p></li><li><p>Modeling elements, from the associated UML model;</p></li><li><p>Collections of values or modeling elements.</p></li></ul></div></li></ul></div></div></div>
<div class="imageblock column" style="text-align: center"><img src="images/university.svg" alt="university" width="800px"></div></div></section>
<section><h2>Operation Call Syntax</h2><div class="slide-content"><div class="ulist"><ul><li><p>Operation calls on elements and values use <strong>dots</strong>:</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #d14">'Nantes'</span><span style="background-color: #f8f8f8">.</span><span style="color: #990000;font-weight: bold">substring</span><span style="background-color: #f8f8f8">(</span><span style="color: #009999">1</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">3</span><span style="background-color: #f8f8f8">)</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #d14">'Nan'</span></code></pre></div></div>
<div class="ulist"><ul><li><p>Operation calls on collections use <strong>arrows</strong>:</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #a61717;background-color: #e3d2d2">{</span><span style="color: #009999">1</span><span style="background-color: #f8f8f8">,</span> <span style="color: #009999">2</span><span style="background-color: #f8f8f8">,</span> <span style="color: #009999">3</span><span style="background-color: #f8f8f8">,</span> <span style="color: #009999">4</span><span style="background-color: #f8f8f8">,</span> <span style="color: #009999">5</span><span style="color: #a61717;background-color: #e3d2d2">}</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">size</span><span style="background-color: #f8f8f8">()</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">5</span></code></pre></div></div></div></section>
<section><h2>Role Navigation</h2><div class="slide-content"><div class="paragraph"><p>An OCL expression can navigate through model associations using the opposite role (association end):</p></div>
<div class="imageblock" style="text-align: center"><img src="images/univ-department.svg" alt="univ department" width="800px"></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Department</span>
    <span style="color: #999988;font-style: italic">-- A department’s university should not be null.</span>
    <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">not</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">university</span><span style="background-color: #f8f8f8">.</span><span style="color: #990000;font-weight: bold">oclIsUndefined</span><span style="background-color: #f8f8f8">()</span>

<span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">University</span>
    <span style="color: #999988;font-style: italic">-- A university must have at least one department</span>
    <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">department</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">notEmpty</span><span style="background-color: #f8f8f8">()</span></code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>Navigation through private roles is possible. It seems that it is also possible to navigate through non-navigable roles.</p></div></aside></div></section>
<section class="columns"><h2>Multiplicities</h2><div class="slide-content"><div class="openblock column is-one-third"><div class="content"><div class="imageblock" style="text-align: center"><img src="images/course.svg" alt="course" width="600px"></div></div></div>
<div class="openblock column"><div class="content"><div class="ulist"><div class="title">The type of an expression (its return type) depends on the role’s maximum multiplicity:</div><ul><li><p>If equals to 1, it’s a simple element.</p></li><li><p>If &gt; 1, it’s a collection.</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Course</span>
  <span style="color: #999988;font-style: italic">-- an objet:</span>
  <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructor</span><span style="background-color: #f8f8f8">.</span><span style="color: #990000;font-weight: bold">oclInState</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">Available</span><span style="background-color: #f8f8f8">)</span>

  <span style="color: #999988;font-style: italic">-- a collection (Set):</span>
  <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">is_mastered_by</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">notEmpty</span><span style="background-color: #f8f8f8">()</span></code></pre></div></div></div></div></div></section>
<section class="columns"><h2>Navigation: Special Cases</h2><div class="slide-content"><div class="openblock column is-one-third"><div class="content"><div class="imageblock" style="text-align: 400px"><img src="images/department-professor.svg" alt="department professor"></div>
<div class="imageblock" style="text-align: 400px"><img src="images/wife.svg" alt="wife"></div></div></div>
<div class="openblock column"><div class="content"><div class="ulist"><ul><li><p>When there is no role name, the OCL uses the class name (in lower cases).</p></li><li><p>Monovalued (max multiplicity = 1) roles may be navigated as a collection.</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Department</span> <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">chef</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">size</span><span style="background-color: #f8f8f8">()</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">1</span>

<span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Department</span> <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">chef</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">age</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">40</span>

<span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Person</span> <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">wife</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">notEmpty</span><span style="background-color: #f8f8f8">()</span>
    <span style="color: #000000;font-weight: bold">implies</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">wife</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">gender</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">Gender</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">female</span></code></pre></div></div></div></div></div></section>
<section><h2>Navigation through Association-Classes</h2><div class="slide-content"><div class="ulist"><ul><li><p>To navigate towards an association-class, OCL uses the association-class’ name, in lower cases.</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Student</span>
<span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span>
    <span style="color: #999988;font-style: italic">-- A student average grade is always greater than 4:</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">grade</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">value</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">average</span><span style="background-color: #f8f8f8">()</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">4</span></code></pre></div></div>
<div class="imageblock" style="text-align: center"><img src="images/grade.svg" alt="grade" width="800px"></div></div></section>
<section><h2>Navigation through Association-Classes</h2><div class="slide-content"><div class="ulist"><ul><li><p>To navigate from class-association, OCL uses role names:</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Grade</span> <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">students</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">age</span><span style="background-color: #f8f8f8">()</span> <span style="color: #000000;font-weight: bold">&gt;=</span> <span style="color: #009999">18</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">follows</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">hours</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">3</span></code></pre></div></div>
<div class="imageblock" style="text-align: center"><img src="images/grade.svg" alt="grade" width="800px"></div></div></section>
<section><h2>Qualified Associations</h2><div class="slide-content"><div class="imageblock" style="text-align: center"><img src="images/qualified-association.svg" alt="qualified association" width="800px"></div>
<div class="ulist"><ul><li><p>To navigate through a qualified association, OCL uses the qualifier name between square brackets:</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">University</span>
    <span style="color: #999988;font-style: italic">-- The name of student 8764423 must be 'Martin'.</span>
    <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">students</span><span style="background-color: #f8f8f8">[</span><span style="color: #009999">8764423</span><span style="background-color: #f8f8f8">].</span><span style="background-color: #f8f8f8">name</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #d14">'Martin'</span></code></pre></div></div>
<div class="ulist"><ul><li><p>When the qualifier is not specified, the result is a collection:</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">University</span>
    <span style="color: #999988;font-style: italic">-- There is at least one student named 'Martin':</span>
    <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">students</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">exists</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">each</span> <span style="color: #000000;font-weight: bold">|</span> <span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">name</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #d14">'Martin'</span><span style="background-color: #f8f8f8">)</span></code></pre></div></div></div></section>
<section><h2>Plan</h2><div class="slide-content"><div class="olist arabic"><ol class="arabic"><li><p>Introduction</p></li><li><p>Invariants</p></li><li><p>Model Navigation</p></li><li><p><strong>Property Definition</strong></p></li><li><p>Operation Specification</p></li><li><p>Advanced Topics</p></li><li><p>Conclusion</p></li><li><p>Appendix - Language Details</p></li></ol></div></div></section>
<section class="impact"><h2>Property Definition, Initialization, and Calculation</h2></section>
<section><h2>Property Definition</h2><div class="slide-content"><div class="ulist"><ul><li><p>OCL allows the definition of new attributes and new operations, and add them to an existing class.</p></li><li><p>These new properties can be used within other OCL constraints.</p></li></ul></div>
<div class="paragraph"><p>Syntax:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">class</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">name</span><span style="color: #000000;font-weight: bold">&gt;</span>
  <span style="color: #000000;font-weight: bold">def</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">attr</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">name</span><span style="color: #000000;font-weight: bold">&gt;</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">type</span><span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">ocl</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">expression</span><span style="color: #000000;font-weight: bold">&gt;</span>
  <span style="color: #000000;font-weight: bold">def</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">op</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">name</span><span style="color: #000000;font-weight: bold">&gt;</span> <span style="background-color: #f8f8f8">(</span><span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">argument</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">list</span><span style="background-color: #f8f8f8">)</span> <span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">type</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">ocl</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">expression</span><span style="color: #000000;font-weight: bold">&gt;</span></code></pre></div></div></div></section>
<section class="columns"><h2>Property Definition</h2><div class="slide-content"><div class="ulist"><ul><li><p>Useful to decompose complex expressions without overloading the model.</p></li><li><p>Examples:</p></li></ul></div>
<div class="openblock column is-two-thirds"><div class="content"><div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Professor</span>
<span style="color: #000000;font-weight: bold">def</span><span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">students</span><span style="background-color: #f8f8f8">()</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Bag</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">Student</span><span style="background-color: #f8f8f8">)</span> <span style="color: #000000;font-weight: bold">=</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">teaches</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">students</span>

<span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Department</span>
<span style="color: #000000;font-weight: bold">def</span><span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">students</span><span style="background-color: #f8f8f8">()</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Set</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">Student</span><span style="background-color: #f8f8f8">)</span> <span style="color: #000000;font-weight: bold">=</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">teaches</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">student</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">asSet</span><span style="background-color: #f8f8f8">()</span></code></pre></div></div></div></div>
<div class="openblock column"><div class="content"><div class="imageblock" style="text-align: center"><img src="images/university.svg" alt="university" width="600px"></div></div></div></div></section>
<section><h2>Property Initialization</h2><div class="slide-content"><div class="ulist"><ul><li><p>Initial value specification for attributes and roles.</p></li><li><p>The expression type must conform to the attribute or role type.</p></li></ul></div>
<div class="paragraph"><p>Syntax:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">class</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">name</span><span style="color: #000000;font-weight: bold">&gt;</span><span style="background-color: #f8f8f8">::</span><span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">prop</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">name</span><span style="color: #000000;font-weight: bold">&gt;</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">type</span><span style="color: #000000;font-weight: bold">&gt;</span>
    <span style="color: #000000;font-weight: bold">init</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">ocl</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">expression</span><span style="color: #000000;font-weight: bold">&gt;</span></code></pre></div></div>
<div class="paragraph"><p>Example:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Professor</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">wage</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Integer</span>
    <span style="color: #000000;font-weight: bold">init</span><span style="background-color: #f8f8f8">:</span> <span style="color: #009999">800</span></code></pre></div></div></div></section>
<section class="columns"><h2>Derived Property Specification</h2><div class="slide-content"><div class="openblock column is-one-third"><div class="content"><div class="imageblock" style="text-align: center"><img src="images/course.svg" alt="course" width="600px"></div></div></div>
<div class="openblock column"><div class="content"><div class="ulist"><ul><li><p>OCL expression defining how a derived property is calculated.</p></li></ul></div>
<div class="paragraph"><p>Syntax:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">class</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">name</span><span style="color: #000000;font-weight: bold">&gt;</span><span style="background-color: #f8f8f8">::</span><span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">role</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">name</span><span style="color: #000000;font-weight: bold">&gt;</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">type</span><span style="color: #000000;font-weight: bold">&gt;</span>
    <span style="color: #000000;font-weight: bold">derive</span><span style="background-color: #f8f8f8">:</span>  <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">ocl</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">expression</span><span style="color: #000000;font-weight: bold">&gt;</span></code></pre></div></div>
<div class="paragraph"><p>Examples:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Professor</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">service</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Integer</span>
    <span style="color: #000000;font-weight: bold">derive</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">teaches</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">hours</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">sum</span><span style="background-color: #f8f8f8">()</span>

<span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Person</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">single</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Boolean</span>
    <span style="color: #000000;font-weight: bold">derive</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">partner</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">isEmpty</span><span style="background-color: #f8f8f8">()</span></code></pre></div></div></div></div></div></section>
<section><h2>Query Operation Specification</h2><div class="slide-content"><div class="ulist"><ul><li><p>Specification of query operation body.</p></li></ul></div>
<div class="paragraph"><p>Example:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">University</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">instructors</span><span style="background-color: #f8f8f8">()</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Set</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">Professor</span><span style="background-color: #f8f8f8">)</span>
<span style="color: #000000;font-weight: bold">body</span><span style="background-color: #f8f8f8">:</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">departments</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">asSet</span><span style="background-color: #f8f8f8">()</span></code></pre></div></div></div></section>
<section><h2>Plan</h2><div class="slide-content"><div class="olist arabic"><ol class="arabic"><li><p>Introduction</p></li><li><p>Invariants</p></li><li><p>Model Navigation</p></li><li><p>Property Definition</p></li><li><p><strong>Operation Specification</strong></p></li><li><p>Advanced Topics</p></li><li><p>Conclusion</p></li><li><p>Appendix - Language Details</p></li></ol></div></div></section>
<section class="impact"><h2>Operation Specification</h2></section>
<section><h2>Operation Specification</h2><div class="slide-content"><div class="ulist"><div class="title">OCL can be used to specify class operations:</div><ul><li><p>Approach inspired from Abstract Types.</p></li><li><p>An operation is defined by:</p><div class="ulist"><ul><li><p>A signature;</p></li><li><p>A precondition; and</p></li><li><p>A postcondition.</p></li></ul></div></li><li><p>The precondition constraints the operation input set.</p></li><li><p>The postcondition specifies the operation semantics.</p></li></ul></div></div></section>
<section><h2>Operation Precondition</h2><div class="slide-content"><div class="ulist"><ul><li><p>A precondition is a constraint that must be verified <strong>before</strong> the execution of the operation.</p></li><li><p>Specifies what clients must respect to call the operation.</p></li><li><p>Represented by an OCL expression, preceded by <code>pre:</code></p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #999988;font-style: italic">-- Only professors older than 30 years can be added to the department:</span>
<span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Department</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">add</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">p</span> <span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">Professor</span><span style="background-color: #f8f8f8">)</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Integer</span>
    <span style="color: #000000;font-weight: bold">pre</span> <span style="background-color: #f8f8f8">old</span><span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">p</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">age</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">30</span></code></pre></div></div></div></section>
<section><h2>Postconditions</h2><div class="slide-content"><div class="ulist"><ul><li><p>A postcondition is a constraint that must be verified <strong>after</strong> the execution of the operation.</p></li><li><p>Specifies what the operation must accomplish.</p></li><li><p>Represented by an OCL expression preceded by the keyword <code>post:</code></p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Student</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">age</span><span style="background-color: #f8f8f8">()</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Integer</span>
<span style="color: #000000;font-weight: bold">post</span> <span style="background-color: #f8f8f8">correct</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">result</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">today</span> <span style="color: #000000;font-weight: bold">-</span> <span style="background-color: #f8f8f8">birthday</span><span style="background-color: #f8f8f8">).</span><span style="background-color: #f8f8f8">years</span><span style="background-color: #f8f8f8">()</span></code></pre></div></div>
<div class="ulist"><ul><li><p>The <code>result</code> operator gives access to the operation return value.</p></li></ul></div></div></section>
<section><h2>Property Values</h2><div class="slide-content"><div class="ulist"><ul><li><p>Within a postcondition, there are <strong>two</strong> available values for each property:</p><div class="ulist"><ul><li><p>Its value <strong>before</strong> the operation execution.</p></li><li><p>Its value <strong>after</strong> the operation execution.</p></li></ul></div></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Person</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">birthday</span><span style="background-color: #f8f8f8">()</span>
    <span style="color: #000000;font-weight: bold">post</span><span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">age</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">age</span><span style="color: #000000;font-weight: bold">@</span><span style="color: #000000;font-weight: bold">pre</span> <span style="color: #000000;font-weight: bold">+</span> <span style="color: #009999">1</span>

<span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Professor</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">raise</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">v</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Integer</span><span style="background-color: #f8f8f8">)</span>
    <span style="color: #000000;font-weight: bold">post</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">wage</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">wage</span><span style="color: #000000;font-weight: bold">@</span><span style="color: #000000;font-weight: bold">pre</span> <span style="color: #000000;font-weight: bold">+</span> <span style="background-color: #f8f8f8">v</span></code></pre></div></div>
<div class="ulist"><ul><li><p>The <code>@pre</code> operator gives access to a property’s value <strong>before</strong> the operation execution.</p></li></ul></div></div></section>
<section><h2>Previous Values (1/2)</h2><div class="slide-content"><div class="paragraph"><p>When the <code>@pre</code> value of a property is an object, all the values reached from this objects are new:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="background-color: #f8f8f8">a</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">b</span><span style="color: #000000;font-weight: bold">@</span><span style="color: #000000;font-weight: bold">pre</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">c</span>
        <span style="color: #999988;font-style: italic">-- the old value of b, say X,</span>
        <span style="color: #999988;font-style: italic">-- and the new value of c of X</span>

<span style="background-color: #f8f8f8">a</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">b</span><span style="color: #000000;font-weight: bold">@</span><span style="color: #000000;font-weight: bold">pre</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">c</span><span style="color: #000000;font-weight: bold">@</span><span style="color: #000000;font-weight: bold">pre</span>
        <span style="color: #999988;font-style: italic">-- the old value of b , say X,</span>
        <span style="color: #999988;font-style: italic">-- and the old value of c of X.</span></code></pre></div></div></div></section>
<section><h2>Previous Values (2/2)</h2><div class="slide-content"><div class="imageblock" style="text-align: center"><img src="images/atpre.svg" alt="atpre" width="800px"></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="background-color: #f8f8f8">a</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">b</span><span style="color: #000000;font-weight: bold">@</span><span style="color: #000000;font-weight: bold">pre</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">c</span> <span style="color: #999988;font-style: italic">-- the new value of b1.c,</span>
<span style="background-color: #f8f8f8">c3</span> <span style="background-color: #f8f8f8">a</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">b</span><span style="color: #000000;font-weight: bold">@</span><span style="color: #000000;font-weight: bold">pre</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">c</span><span style="color: #000000;font-weight: bold">@</span><span style="color: #000000;font-weight: bold">pre</span>  <span style="color: #999988;font-style: italic">-- the old value of b1.c,</span>
<span style="background-color: #f8f8f8">c1</span> <span style="background-color: #f8f8f8">a</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">b</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">c</span> <span style="color: #999988;font-style: italic">-- the new value of b2.c, c2+`</span></code></pre></div></div></div></section>
<section><h2>Plan</h2><div class="slide-content"><div class="olist arabic"><ol class="arabic"><li><p>Introduction</p></li><li><p>Invariants</p></li><li><p>Model Navigation</p></li><li><p>Property Definition</p></li><li><p>Operation Specification</p></li><li><p><strong>Advanced Topics</strong></p></li><li><p>Conclusion</p></li><li><p>Appendix - Language Details</p></li></ol></div></div></section>
<section class="impact"><h2>Advanced Topics</h2><div class="slide-content"><div class="paragraph"><p>Tuples, Messages, Constraint Inheritance</p></div></div></section>
<section><h2>Tuples</h2><div class="slide-content"><div class="paragraph"><p>Definition</p></div>
<div class="paragraph"><p><strong>Tuple:</strong></p></div>
<div class="quoteblock"><blockquote><div class="paragraph"><p>A Tuple is a finite sequence of objects or components, where each component is named. The component types are potentially different.</p></div></blockquote></div>
<div class="paragraph"><p><strong>Examples:</strong></p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">Tuple</span> <span style="color: #a61717;background-color: #e3d2d2">{</span><span style="background-color: #f8f8f8">name</span><span style="background-color: #f8f8f8">:</span><span style="color: #000000;font-weight: bold">String</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #d14">'Martin'</span><span style="background-color: #f8f8f8">,</span> <span style="background-color: #f8f8f8">age</span><span style="background-color: #f8f8f8">:</span><span style="color: #000000;font-weight: bold">Integer</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">42</span><span style="color: #a61717;background-color: #e3d2d2">}</span>
<span style="color: #000000;font-weight: bold">Tuple</span> <span style="color: #a61717;background-color: #e3d2d2">{</span><span style="background-color: #f8f8f8">name</span><span style="background-color: #f8f8f8">:</span><span style="color: #d14">'Colette'</span><span style="background-color: #f8f8f8">,</span> <span style="background-color: #f8f8f8">grades</span><span style="background-color: #f8f8f8">:</span><span style="color: #000000;font-weight: bold">Collection</span><span style="background-color: #f8f8f8">(</span><span style="color: #000000;font-weight: bold">Integer</span><span style="background-color: #f8f8f8">)</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #000000;font-weight: bold">Set</span><span style="color: #a61717;background-color: #e3d2d2">{</span><span style="color: #009999">12</span><span style="background-color: #f8f8f8">,</span> <span style="color: #009999">13</span><span style="background-color: #f8f8f8">,</span> <span style="color: #009999">9</span><span style="color: #a61717;background-color: #e3d2d2">}</span><span style="background-color: #f8f8f8">,</span>
     <span style="background-color: #f8f8f8">diploma</span><span style="background-color: #f8f8f8">:</span><span style="color: #000000;font-weight: bold">String</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #d14">'Computer Science'</span><span style="color: #a61717;background-color: #e3d2d2">}</span></code></pre></div></div></div></section>
<section><h2>Tuple Syntax</h2><div class="slide-content"><div class="ulist"><ul><li><p>Types are optionals.</p></li><li><p>The component order is not relevant.</p></li></ul></div>
<div class="paragraph"><p><strong>Equivalent expressions:</strong></p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">Tuple</span> <span style="color: #a61717;background-color: #e3d2d2">{</span><span style="background-color: #f8f8f8">name</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">String</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #d14">'Martin,'</span> <span style="background-color: #f8f8f8">age</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Integer</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">42</span><span style="color: #a61717;background-color: #e3d2d2">}</span>
<span style="color: #000000;font-weight: bold">Tuple</span> <span style="color: #a61717;background-color: #e3d2d2">{</span><span style="background-color: #f8f8f8">name</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #d14">'Martin,'</span> <span style="background-color: #f8f8f8">age</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">42</span><span style="color: #a61717;background-color: #e3d2d2">}</span>
<span style="color: #000000;font-weight: bold">Tuple</span> <span style="color: #a61717;background-color: #e3d2d2">{</span><span style="background-color: #f8f8f8">age</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">42</span><span style="background-color: #f8f8f8">,</span> <span style="background-color: #f8f8f8">name</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #d14">'Martin'</span><span style="color: #a61717;background-color: #e3d2d2">}</span></code></pre></div></div></div></section>
<section><h2>Tuple Component Initialization</h2><div class="slide-content"><div class="ulist"><ul><li><p>OCL expressions can be used to initialize tuple components:</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">University</span> <span style="color: #000000;font-weight: bold">def</span><span style="background-color: #f8f8f8">:</span>
<span style="background-color: #f8f8f8">statistics</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Set</span><span style="background-color: #f8f8f8">(</span><span style="color: #000000;font-weight: bold">Tuple</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">dpt</span> <span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">Department</span><span style="background-color: #f8f8f8">,</span> <span style="background-color: #f8f8f8">studentNb</span><span style="background-color: #f8f8f8">:</span><span style="color: #000000;font-weight: bold">Integer</span><span style="background-color: #f8f8f8">,</span>
                               <span style="background-color: #f8f8f8">graduated</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Set</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">Student</span><span style="background-color: #f8f8f8">),</span> <span style="color: #990000;font-weight: bold">average</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Integer</span><span style="background-color: #f8f8f8">))</span> <span style="color: #000000;font-weight: bold">=</span>
     <span style="background-color: #f8f8f8">department</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">collect</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">each</span> <span style="color: #000000;font-weight: bold">|</span>
       <span style="color: #000000;font-weight: bold">Tuple</span> <span style="color: #a61717;background-color: #e3d2d2">{</span><span style="background-color: #f8f8f8">dpt</span> <span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">Department</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">,</span>
           <span style="background-color: #f8f8f8">studentNb</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Integer</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">students</span><span style="background-color: #f8f8f8">()</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">size</span><span style="background-color: #f8f8f8">(),</span>
           <span style="background-color: #f8f8f8">graduated</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Set</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">Student</span><span style="background-color: #f8f8f8">)</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">students</span><span style="background-color: #f8f8f8">()</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">select</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">graduated</span><span style="background-color: #f8f8f8">()),</span>
           <span style="color: #990000;font-weight: bold">average</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Integer</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">students</span><span style="background-color: #f8f8f8">()</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">collect</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">note</span><span style="background-color: #f8f8f8">)</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="background-color: #f8f8f8">avg</span><span style="background-color: #f8f8f8">()</span>
          <span style="color: #a61717;background-color: #e3d2d2">}</span>
      <span style="background-color: #f8f8f8">)</span></code></pre></div></div></div></section>
<section><h2>Tuple Component Access</h2><div class="slide-content"><div class="ulist"><ul><li><p>Component values are accessible through their names, using the dotted notation:</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">Tuple</span> <span style="color: #a61717;background-color: #e3d2d2">{</span><span style="background-color: #f8f8f8">name</span><span style="background-color: #f8f8f8">:</span><span style="color: #000000;font-weight: bold">String</span><span style="color: #000000;font-weight: bold">=</span><span style="color: #d14">'Martin'</span><span style="background-color: #f8f8f8">,</span> <span style="background-color: #f8f8f8">age</span><span style="background-color: #f8f8f8">:</span><span style="color: #000000;font-weight: bold">Integer</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">42</span><span style="color: #a61717;background-color: #e3d2d2">}</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">age</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">42</span></code></pre></div></div>
<div class="ulist"><ul><li><p>The attribute <code>statistics</code> defined previously can be used within another OCL expression:</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">University</span> <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span>
     <span style="background-color: #f8f8f8">statistics</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">sortedBy</span><span style="background-color: #f8f8f8">(</span><span style="color: #990000;font-weight: bold">average</span><span style="background-color: #f8f8f8">)</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">last</span><span style="background-color: #f8f8f8">().</span><span style="background-color: #f8f8f8">dpt</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">name</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #d14">'Computer Science'</span>
     <span style="color: #999988;font-style: italic">-- CS department has always the best students.</span></code></pre></div></div></div></section>
<section><h2>Messages</h2><div class="slide-content"><div class="paragraph"><p>OCL expressions can verify that a communication happened, using the «<code>^</code>» (hasSent) operator:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Subject</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">hasChanged</span><span style="background-color: #f8f8f8">()</span>
<span style="color: #000000;font-weight: bold">post</span><span style="background-color: #f8f8f8">:</span>  <span style="background-color: #f8f8f8">observer</span><span style="color: #000000;font-weight: bold">^</span><span style="background-color: #f8f8f8">update</span><span style="background-color: #f8f8f8">(</span><span style="color: #009999">12</span><span style="background-color: #f8f8f8">,</span> <span style="color: #009999">14</span><span style="background-color: #f8f8f8">)</span></code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>The expression <code>observer^update(12, 14)</code> evaluates to true if the message <code>update</code>, with the arguments 12 and 14 was sent to the object <code>observer</code>. The statement <code>update()</code> is either an operation from observer’s class, or a Signal. Obviously, the arguments 12 and 14 must conform to the operation’s parameters.</p></div></aside></div></section>
<section><h2>Jokers</h2><div class="slide-content"><div class="ulist"><ul><li><p>When the arguments are not known, the expression can use the operator «<code>?</code>» (joker):</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Subject</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">hasChanged</span><span style="background-color: #f8f8f8">()</span> <span style="color: #000000;font-weight: bold">post</span><span style="background-color: #f8f8f8">:</span>  <span style="background-color: #f8f8f8">observer</span><span style="color: #000000;font-weight: bold">^</span><span style="background-color: #f8f8f8">update</span><span style="background-color: #f8f8f8">(</span><span style="color: #000000;font-weight: bold">?</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Integer</span><span style="background-color: #f8f8f8">,</span> <span style="color: #000000;font-weight: bold">?</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Integer</span><span style="background-color: #f8f8f8">)</span></code></pre></div></div></div></section>
<section><h2>The «OclMessage» Type</h2><div class="slide-content"><div class="ulist"><ul><li><p>The operator «<code>^^</code>» (messages) allows an expression to access a sequence of sent messages:</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Subject</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">hasChanged</span><span style="background-color: #f8f8f8">()</span>
<span style="color: #000000;font-weight: bold">post</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">let</span> <span style="background-color: #f8f8f8">messages</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Sequence</span><span style="background-color: #f8f8f8">(</span><span style="color: #000000;font-weight: bold">OclMessage</span><span style="background-color: #f8f8f8">)</span> <span style="color: #000000;font-weight: bold">=</span>
            <span style="background-color: #f8f8f8">observer</span><span style="color: #000000;font-weight: bold">^^</span><span style="background-color: #f8f8f8">update</span><span style="background-color: #f8f8f8">(</span><span style="color: #000000;font-weight: bold">?</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Integer</span><span style="background-color: #f8f8f8">,</span> <span style="color: #000000;font-weight: bold">?</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Integer</span><span style="background-color: #f8f8f8">)</span> <span style="color: #000000;font-weight: bold">in</span>
      <span style="background-color: #f8f8f8">messages</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">notEmpty</span><span style="background-color: #f8f8f8">()</span> <span style="color: #000000;font-weight: bold">and</span>
      <span style="background-color: #f8f8f8">messages</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">exists</span><span style="background-color: #f8f8f8">(</span> <span style="background-color: #f8f8f8">m</span> <span style="color: #000000;font-weight: bold">|</span> <span style="background-color: #f8f8f8">m</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">i</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">0</span> <span style="color: #000000;font-weight: bold">and</span> <span style="background-color: #f8f8f8">m</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">j</span> <span style="color: #000000;font-weight: bold">&gt;=</span> <span style="background-color: #f8f8f8">m</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">i</span> <span style="background-color: #f8f8f8">)</span></code></pre></div></div></div></section>
<section><h2>Returned Values</h2><div class="slide-content"><div class="ulist"><ul><li><p>The operator <code>OclMessage::result()</code> allows an expression to access an operation return value (signals do not return values).</p></li><li><p>The operator <code>OclMessage::hasReturned()</code> returns true if the operation returned a value.</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Person</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">giveSalary</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">amount</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Integer</span><span style="background-color: #f8f8f8">)</span>
    <span style="color: #000000;font-weight: bold">post</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">let</span> <span style="background-color: #f8f8f8">message</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">OclMessage</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">company</span><span style="color: #000000;font-weight: bold">^</span><span style="background-color: #f8f8f8">getMoney</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">amount</span><span style="background-color: #f8f8f8">)</span> <span style="color: #000000;font-weight: bold">in</span>
    <span style="background-color: #f8f8f8">message</span><span style="background-color: #f8f8f8">.</span><span style="color: #990000;font-weight: bold">hasReturned</span><span style="background-color: #f8f8f8">()</span>
    <span style="color: #999988;font-style: italic">-- getMoney was sent and returned</span>
    <span style="color: #000000;font-weight: bold">and</span> <span style="background-color: #f8f8f8">message</span><span style="background-color: #f8f8f8">.</span><span style="color: #0086B3">result</span><span style="background-color: #f8f8f8">()</span>
    <span style="color: #999988;font-style: italic">-- the getMoney call returned true</span></code></pre></div></div>
<aside class="notes"><div class="paragraph"><p>|note: Signal messages are asynchronous by definition, they do not have a return value.
|&lt;!–  Stéréotypes des contraintes
|Plusieurs stéréotypes sont définis en standard dans UML:
|- Invariants de classe: «invariant» - Pré-conditions: «precondition» - Post-conditions: «postcondition» - Définitions de propriétés: «definition»
| Package context
|Il est possible de spécifier explicitement le nom du paquetage auquel appartient une contrainte:
|<code><code>ocl package Package::SubPackage context X inv: – some invariant
|context X::operation() pre: – some precondition endpackage </code></code></p></div></aside></div></section>
<section><h2>Constraint Inheritance</h2><div class="slide-content"><div class="paragraph"><p><strong>Liskov substitution principle (LSP)</strong></p></div>
<div class="quoteblock"><blockquote><div class="paragraph"><p>In an object-oriented program, if S is a subtype of T, then objects of type T may be replaced with objects of type S (i.e., an object of type T may be substituted with any object of a subtype S).</p></div></blockquote></div></div></section>
<section><h2>Invariant Inheritance</h2><div class="slide-content"><div class="ulist"><div class="title">Consequence of the LSP on the invariants:</div><ul><li><p>Subclasses always inherit invariants.</p></li><li><p>Subclasses can only reinforce an invariant.</p></li></ul></div></div></section>
<section><h2>Pre- and Post-Condition Inheritance</h2><div class="slide-content"><div class="ulist"><div class="title">Consequences of the LSP on pre and postconditions:</div><ul><li><p>A precondition can only be relaxed (contrevariance)</p></li><li><p>A postcondition can only be reinforced (covariance)</p></li></ul></div></div></section>
<section><h2>Plan</h2><div class="slide-content"><div class="olist arabic"><ol class="arabic"><li><p>Introduction</p></li><li><p>Invariants</p></li><li><p>Model Navigation</p></li><li><p>Property Definition</p></li><li><p>Operation Specification</p></li><li><p>Advanced Topics</p></li><li><p><strong>Conclusion</strong></p></li><li><p>Appendix - Language Details</p></li></ol></div></div></section>
<section class="impact"><h2>Conclusion</h2></section>
<section><h2>OCL Goals</h2><div class="slide-content"><div class="ulist"><div class="title">Design by contracts allows designers to:</div><ul><li><p>be more precise.</p></li><li><p>improve documentation.</p></li><li><p>keep design independent from implementation.</p></li><li><p>Identify component’s responsibilities.</p></li></ul></div></div></section>
<section><h2>OCL Usages</h2><div class="slide-content"><div class="ulist"><div class="title">OCL expressions can specify:</div><ul><li><p>Class invariants;</p></li><li><p>Class attributes initialization;</p></li><li><p>Class derived attributes;</p></li><li><p>New class properties: attributes and <em>query</em> operations;</p></li><li><p>Class operations pre- and post-conditions;</p></li><li><p>Transition guards;</p></li><li><p>Transition pre and postconditions;</p></li></ul></div>
<aside class="notes"><div class="paragraph"><p>A <em>query</em> operation is operation with no side effect.</p></div></aside></div></section>
<section><h2>Modeling Advices</h2><div class="slide-content"><div class="ulist"><ul><li><p>Keep things simple: the goal of constraints is to improve the quality of a specification, and not to make it more complex.</p></li><li><p>Always combine constraints with natural language: constraints are used to make comments less ambiguous and not to replace them.</p></li><li><p>Use a tool.</p></li></ul></div></div></section>
<section><h2>Usage</h2><div class="slide-content"><div class="ulist"><ul><li><p>Code generation</p><div class="ulist"><ul><li><p>Contract generation in Eiffel, Sather, Clojure, etc.</p></li><li><p>Tool specific contract generation:</p><div class="ulist"><ul><li><p>OVal <a href="http://oval.sourceforge.net/" class="bare">http://oval.sourceforge.net/</a></p></li><li><p>Contracts for Java (Cofoja) <a href="https://github.com/nhatminhle/cofoja" class="bare">https://github.com/nhatminhle/cofoja</a></p></li><li><p>Java Modeling Language (JML)</p></li><li><p>valid4j <a href="http://www.valid4j.org" class="bare">http://www.valid4j.org</a></p></li></ul></div></li></ul></div></li><li><p>Enhanced test case generation.</p></li></ul></div></div></section>
<section><h2>References</h2><div class="slide-content"><div class="ulist"><ul><li><p>The Object Constraint Language -– Jos Warmer, Anneke Kleppe.</p></li><li><p>OCL home page: <a href="http://www.klasse.nl/ocl/" class="bare">http://www.klasse.nl/ocl/</a></p></li><li><p>OCL tools: <a href="http://www.um.es/giisw/ocltools" class="bare">http://www.um.es/giisw/ocltools</a></p></li><li><p>OMG Specification v2.3.1 <a href="http://www.omg.org/spec/OCL/Current/" class="bare">http://www.omg.org/spec/OCL/Current/</a></p></li><li><p>OMG UML 2.5 Working Group.</p></li></ul></div></div></section>
<section><h2>Tools</h2><div class="slide-content"><div class="ulist"><ul><li><p>Eclipse OCL. <a href="https://projects.eclipse.org/projects/modeling.mdt.ocl" class="bare">https://projects.eclipse.org/projects/modeling.mdt.ocl</a></p></li><li><p>OCL Checker (Klasse Objecten)</p></li><li><p>USE OCL (Mark Richters). <a href="http://useocl.sourceforge.net/w/" class="bare">http://useocl.sourceforge.net/w/</a></p></li><li><p>Dresden OCL. <a href="http://www.dresden-ocl.org" class="bare">http://www.dresden-ocl.org</a></p></li><li><p>Octopus (Warmer &amp; Kleppe). <a href="http://octopus.sourceforge.net/" class="bare">http://octopus.sourceforge.net/</a></p></li></ul></div></div></section>
<section><h2>Plan</h2><div class="slide-content"><div class="olist arabic"><ol class="arabic"><li><p>Introduction</p></li><li><p>Invariants</p></li><li><p>Model Navigation</p></li><li><p>Property Definition</p></li><li><p>Operation Specification</p></li><li><p>Advanced Topics</p></li><li><p>Conclusion</p></li><li><p><strong>Appendix - Language Details</strong></p></li></ol></div></div></section>
<section class="impact"><h2>Appendix</h2><div class="slide-content"><div class="paragraph"><p>Language Details</p></div></div></section>
<section><h2>Access to Class-level Properties</h2><div class="slide-content"><div class="ulist"><ul><li><p>Class-level properties are accessed through double-colons.</p></li></ul></div>
<div class="paragraph"><p>Class-level attributes:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Professor</span> <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">wage</span> <span style="color: #000000;font-weight: bold">&lt;</span> <span style="background-color: #f8f8f8">Professor</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">maximumWage</span></code></pre></div></div>
<div class="paragraph"><p>Class-level query operations:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Professor</span> <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">age</span><span style="background-color: #f8f8f8">()</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="background-color: #f8f8f8">Student</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">minimumAge</span><span style="background-color: #f8f8f8">()</span></code></pre></div></div></div></section>
<section><h2>Access to Enumeration Literals and Nested States</h2><div class="slide-content"><div class="ulist"><ul><li><p>To avoid name conflicts, enumeration literals are preceded by the enumeration name and double-colons:</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Professor</span>
<span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">title</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">Title</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">full</span> <span style="color: #000000;font-weight: bold">implies</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">wage</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">10</span><span style="color: #000000;font-weight: bold">+</span><span style="color: #a61717;background-color: #e3d2d2">`</span></code></pre></div></div>
<div class="ulist"><ul><li><p>Nested states (from the attached state machine) are preceded by the container state name and double-colons:</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Department</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">add</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">p</span><span style="background-color: #f8f8f8">:</span><span style="background-color: #f8f8f8">Professor</span><span style="background-color: #f8f8f8">)</span>
<span style="color: #000000;font-weight: bold">pre</span><span style="background-color: #f8f8f8">:</span><span style="background-color: #f8f8f8">p</span><span style="background-color: #f8f8f8">.</span><span style="color: #990000;font-weight: bold">oclInState</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">Unavailable</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">Holydays</span><span style="background-color: #f8f8f8">)</span>
<span style="color: #999988;font-style: italic">-- nested states</span></code></pre></div></div></div></section>
<section><h2>Basic Types</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Values</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>OclInvalid</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">invalid</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>OclVoid</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">null, invalid</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">true, false</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">1, -5, 2, 34, 26524, etc.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Real</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">1.5, 3.14, etc.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">``To be or not to be…''</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>UnlimitedNatural</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">0, 1, 2, 42, … , *</p></td></tr></table></div></section>
<section><h2>Collection Types (1/2)</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:25%"><col style="width:25%"><col style="width:25%"><col style="width:25%"></colgroup><thead><tr><th class="tableblock halign-left valign-top"><code>Type</code></th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Obtained from</th><th class="tableblock halign-left valign-top">Examples</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Set</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">unordered set.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Simple navigation</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">{1, 2, 45, 4}</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>OrderedSet</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">ordered set.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Navigation through an ordered association end (labelled with <code>{ordered}</code>)</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">{1, 2, 4, 45}</p></td></tr></table></div></section>
<section><h2>Collection Types (2/2)</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:25%"><col style="width:25%"><col style="width:25%"><col style="width:25%"></colgroup><thead><tr><th class="tableblock halign-left valign-top"><code>Type</code></th><th class="tableblock halign-left valign-top">Description</th><th class="tableblock halign-left valign-top">Obtained from</th><th class="tableblock halign-left valign-top">Examples</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Bag</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">unordered multiset.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Combined navigations</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">{1, 3, 4, 3}</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Sequence</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">ordered multiset.</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Navigation though a ordered association end <code>{ordered}</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">{1, 3, 3, 5, 7},  {1..10}</p></td></tr></table></div></section>
<section><h2>Type Conformity Rules</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:33.3333%"><col style="width:33.3333%"><col style="width:33.3334%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Conforms to</th><th class="tableblock halign-left valign-top">Condition</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">Set(T1)</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Collection(T2)</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">If T1 conforms to T2</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">Sequence(T1)</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Collection(T2)</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">If T1 conforms to T2</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">Bag(T1)</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Collection(T2)</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">If T1 conforms to T2</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">OrderedSet(T1)</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Collection(T2)</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">If T1 conforms to T2</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Real</p></td><td class="tableblock halign-left valign-top"></td></tr></table></div></section>
<section><h2>Operations on Basic Types</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Type</th><th class="tableblock halign-left valign-top">Operations</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Integer</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">=, *, +, -, /, abs(), div(), mod(), max(), min()</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Real</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">=, *, +, -, /, abs(), floor(), round(), max(), min(), &gt;, &lt;, &#8656;, &gt;=, …</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">=, size(), concat(), substring(), toInteger(), toReal(), toUpper(), toLower()</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">or, xor, and, not, implies</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>UnlimitedNatural</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">*,+,/</p></td></tr></table></div></section>
<section><h2>Operations on Collections</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Operations</th><th class="tableblock halign-left valign-top">Behavior</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>isEmpty()</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">True if the collection is empty.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>notEmpty()</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Trues if the collection contains at least one element.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>size()</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Number of elements in the collection.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>count(&lt;elem&gt;)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Number of occurrences of <code>&lt;elem&gt;</code> in the collection.</p></td></tr></table>
<div class="paragraph"><p>Examples:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #a61717;background-color: #e3d2d2">{}</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">isEmpty</span><span style="background-color: #f8f8f8">()</span>
<span style="color: #a61717;background-color: #e3d2d2">{</span><span style="color: #009999">1</span><span style="color: #a61717;background-color: #e3d2d2">}</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">notEmpty</span><span style="background-color: #f8f8f8">()</span>
<span style="color: #a61717;background-color: #e3d2d2">{</span><span style="color: #009999">1</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">2</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">3</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">4</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">5</span><span style="color: #a61717;background-color: #e3d2d2">}</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">size</span><span style="background-color: #f8f8f8">()</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">5</span>
<span style="color: #a61717;background-color: #e3d2d2">{</span><span style="color: #009999">1</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">2</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">3</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">4</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">5</span><span style="color: #a61717;background-color: #e3d2d2">}</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">count</span><span style="background-color: #f8f8f8">(</span><span style="color: #009999">2</span><span style="background-color: #f8f8f8">)</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">1</span></code></pre></div></div>
<hr></div></section>
<section><h2>Complex Operations on Collections</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Operation</th><th class="tableblock halign-left valign-top">Behavior</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>select()</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Selects (filters) a subset of the collection.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>reject()</code></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>collect()</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Evaluates an expression for each element in the collection.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>collectNested()</code></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>forAll()</code></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>exists()</code></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>closure()</code></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterate()</code></p></td><td class="tableblock halign-left valign-top"></td></tr></table></div></section>
<section><h2>Complex Operations on Collections</h2><div class="slide-content"><div class="paragraph"><p>Complex operations use an iterator (named <code>each</code> by convention), a variable that evaluates to each collection element.</p></div>
<table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Operation</th><th class="tableblock halign-left valign-top">Behavior</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>select(&lt;boolean-expression&gt;)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Selects (filters) a subset of the collection.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>collect(&lt;expression&gt;)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Evaluates an expression for each element in the collection.</p></td></tr></table>
<div class="paragraph"><p>Examples:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #a61717;background-color: #e3d2d2">{</span><span style="color: #009999">1</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">2</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">3</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">4</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">5</span><span style="color: #a61717;background-color: #e3d2d2">}</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">select</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">each</span> <span style="color: #000000;font-weight: bold">|</span> <span style="background-color: #f8f8f8">each</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">3</span><span style="background-color: #f8f8f8">)</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #a61717;background-color: #e3d2d2">{</span><span style="color: #009999">4</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">5</span><span style="color: #a61717;background-color: #e3d2d2">}</span>
<span style="color: #a61717;background-color: #e3d2d2">{</span><span style="color: #d14">'a'</span><span style="background-color: #f8f8f8">,</span><span style="color: #d14">'bb'</span><span style="background-color: #f8f8f8">,</span><span style="color: #d14">'ccc'</span><span style="background-color: #f8f8f8">,</span><span style="color: #d14">'dd'</span><span style="color: #a61717;background-color: #e3d2d2">}</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">collect</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">each</span> <span style="color: #000000;font-weight: bold">|</span> <span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">toUpper</span><span style="background-color: #f8f8f8">())</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #a61717;background-color: #e3d2d2">{</span><span style="color: #d14">'A'</span><span style="background-color: #f8f8f8">,</span><span style="color: #d14">'BB'</span><span style="background-color: #f8f8f8">,</span><span style="color: #d14">'CCC'</span><span style="background-color: #f8f8f8">,</span><span style="color: #d14">'DD'</span><span style="color: #a61717;background-color: #e3d2d2">}</span></code></pre></div></div>
<hr></div></section>
<section><h2>Select and Reject: Syntax</h2><div class="slide-content"><div class="paragraph"><p>Selects (respectively rejects) the collection subset to which a boolean expression evaluates to true.</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">Collection</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">T</span><span style="background-color: #f8f8f8">)</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">select</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">elem</span><span style="background-color: #f8f8f8">:</span><span style="background-color: #f8f8f8">T</span> <span style="color: #000000;font-weight: bold">|</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">bool</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">expr</span><span style="color: #000000;font-weight: bold">&gt;</span><span style="background-color: #f8f8f8">)</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Collection</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">T</span><span style="background-color: #f8f8f8">)</span></code></pre></div></div>
<div class="ulist"><ul><li><p>The element types of the input and the output collections are always the same.</p></li><li><p>The size of the output collection is less than or equal to the size of the input collection.</p></li></ul></div></div></section>
<section><h2>Select and Reject: Examples</h2><div class="slide-content"><div class="ulist"><ul><li><p>Possible syntaxes:</p></li></ul></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Department</span> <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span>
    <span style="color: #999988;font-style: italic">-- no iterator</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">select</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">age</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">50</span><span style="background-color: #f8f8f8">)</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">notEmpty</span><span style="background-color: #f8f8f8">()</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">reject</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">age</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">23</span><span style="background-color: #f8f8f8">)</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">isEmpty</span><span style="background-color: #f8f8f8">()</span>

    <span style="color: #999988;font-style: italic">-- with iterator</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">select</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">each</span> <span style="color: #000000;font-weight: bold">|</span> <span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">age</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">50</span><span style="background-color: #f8f8f8">)</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">notEmpty</span><span style="background-color: #f8f8f8">()</span>

    <span style="color: #999988;font-style: italic">-- with typed iterator</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">select</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">each</span> <span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">Professor</span> <span style="color: #000000;font-weight: bold">|</span> <span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">age</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">50</span><span style="background-color: #f8f8f8">)</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">notEmpty</span><span style="background-color: #f8f8f8">()</span></code></pre></div></div></div></section>
<section><h2>Collect: Syntax</h2><div class="slide-content"><div class="paragraph"><p>Evaluates an expression on each collection element and returns another collection containing the results.</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">Collection</span><span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">T1</span><span style="color: #000000;font-weight: bold">&gt;-&gt;</span><span style="color: #990000;font-weight: bold">collect</span><span style="background-color: #f8f8f8">(</span><span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">expr</span><span style="color: #000000;font-weight: bold">&gt;</span><span style="background-color: #f8f8f8">)</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Bag</span><span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">T2</span><span style="color: #000000;font-weight: bold">&gt;</span></code></pre></div></div>
<div class="ulist"><ul><li><p>The sizes of the input and the output collection are mandatory the same.</p></li><li><p>The result is a multiset (<code>Bag</code>).</p></li><li><p>If the the result of <code>&lt;expr&gt;</code> is a collection, the result will not be a collection of collections. The result is automatically flattened.</p></li></ul></div></div></section>
<section><h2>Collect: Examples</h2><div class="slide-content"><div class="paragraph"><p>Possible syntaxes:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Department</span><span style="background-color: #f8f8f8">:</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">collect</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">name</span><span style="background-color: #f8f8f8">)</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">collect</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">each</span> <span style="color: #000000;font-weight: bold">|</span> <span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">name</span><span style="background-color: #f8f8f8">)</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">collect</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">Professor</span> <span style="color: #000000;font-weight: bold">|</span> <span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">name</span><span style="background-color: #f8f8f8">)</span>

    <span style="color: #999988;font-style: italic">-- Bag to Set conversion:</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">collect</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">name</span><span style="background-color: #f8f8f8">)</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">asSet</span><span style="background-color: #f8f8f8">()</span>

    <span style="color: #999988;font-style: italic">-- shortcut:</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">name</span></code></pre></div></div></div></section>
<section><h2>Property Verification on Collections</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Operation</th><th class="tableblock halign-left valign-top">Behavior</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>forAll(&lt;boolean-expression&gt;)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Verifies that <strong>all</strong> the collection elements respect the expression.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>exists(&lt;boolean-expression&gt;)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Verifies that <strong>at least</strong> the collection elements respect the expression.</p></td></tr></table>
<div class="paragraph"><p>Examples:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #a61717;background-color: #e3d2d2">{</span><span style="color: #009999">1</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">2</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">3</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">4</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">5</span><span style="color: #a61717;background-color: #e3d2d2">}</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">forAll</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">each</span> <span style="color: #000000;font-weight: bold">|</span> <span style="background-color: #f8f8f8">each</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">0</span> <span style="color: #000000;font-weight: bold">and</span> <span style="background-color: #f8f8f8">each</span> <span style="color: #000000;font-weight: bold">&lt;</span> <span style="color: #009999">10</span><span style="background-color: #f8f8f8">)</span>
<span style="color: #a61717;background-color: #e3d2d2">{</span><span style="color: #009999">1</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">2</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">3</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">4</span><span style="background-color: #f8f8f8">,</span><span style="color: #009999">5</span><span style="color: #a61717;background-color: #e3d2d2">}</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">exists</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">each</span> <span style="color: #000000;font-weight: bold">|</span> <span style="background-color: #f8f8f8">each</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">3</span><span style="background-color: #f8f8f8">)</span></code></pre></div></div></div></section>
<section><h2>For All: Syntax</h2><div class="slide-content"><div class="paragraph"><p>Evaluates a Boolean expression on all elements of a collection and returns true if all evaluations return true.</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">Collection</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">T</span><span style="background-color: #f8f8f8">)</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">forAll</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">elem</span><span style="background-color: #f8f8f8">:</span><span style="background-color: #f8f8f8">T</span> <span style="color: #000000;font-weight: bold">|</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">bool</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">expr</span><span style="color: #000000;font-weight: bold">&gt;</span><span style="background-color: #f8f8f8">)</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Boolean</span></code></pre></div></div></div></section>
<section><h2>For All: Examples</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Department</span>
<span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span>
    <span style="color: #999988;font-style: italic">-- All instructors are associate professors.</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">forAll</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">title</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">Title</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">associate</span><span style="background-color: #f8f8f8">)</span>

    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">forAll</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">each</span> <span style="color: #000000;font-weight: bold">|</span> <span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">titre</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">Title</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">associate</span><span style="background-color: #f8f8f8">)</span>

    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">forAll</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">Professor</span> <span style="color: #000000;font-weight: bold">|</span> <span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">title</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">Title</span><span style="background-color: #f8f8f8">::</span><span style="background-color: #f8f8f8">associate</span><span style="background-color: #f8f8f8">)</span></code></pre></div></div></div></section>
<section><h2>For All</h2><div class="slide-content"><div class="paragraph"><p>Cartesian product:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Department</span> <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">forAll</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">e1</span><span style="background-color: #f8f8f8">,</span> <span style="background-color: #f8f8f8">e2</span> <span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">Professor</span> <span style="color: #000000;font-weight: bold">|</span>
        <span style="background-color: #f8f8f8">e1</span> <span style="color: #000000;font-weight: bold">&lt;&gt;</span> <span style="background-color: #f8f8f8">e2</span> <span style="color: #000000;font-weight: bold">implies</span> <span style="background-color: #f8f8f8">e1</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">name</span> <span style="color: #000000;font-weight: bold">&lt;&gt;</span> <span style="background-color: #f8f8f8">e2</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">name</span><span style="background-color: #f8f8f8">)</span>

<span style="color: #999988;font-style: italic">-- equivalent to:</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">forAll</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">e1</span> <span style="color: #000000;font-weight: bold">|</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span>
        <span style="color: #990000;font-weight: bold">forAll</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">e2</span> <span style="color: #000000;font-weight: bold">|</span> <span style="background-color: #f8f8f8">e1</span> <span style="color: #000000;font-weight: bold">&lt;&gt;</span> <span style="background-color: #f8f8f8">e2</span> <span style="color: #000000;font-weight: bold">implies</span> <span style="background-color: #f8f8f8">e1</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">name</span> <span style="color: #000000;font-weight: bold">&lt;&gt;</span> <span style="background-color: #f8f8f8">e2</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">name</span><span style="background-color: #f8f8f8">))</span></code></pre></div></div></div></section>
<section><h2>Exists</h2><div class="slide-content"><div class="paragraph"><p>Returns true if a boolean expression is true for at least one collection element.</p></div>
<div class="paragraph"><p>Syntax:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="background-color: #f8f8f8">collection</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">exists</span><span style="background-color: #f8f8f8">(</span><span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">boolean</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">expression</span><span style="color: #000000;font-weight: bold">&gt;</span><span style="background-color: #f8f8f8">)</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Boolean</span></code></pre></div></div>
<div class="paragraph"><p>Example:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span><span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">Department</span> <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">exists</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">Professor</span> <span style="color: #000000;font-weight: bold">|</span>
        <span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">name</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #d14">'Martin'</span><span style="background-color: #f8f8f8">)</span></code></pre></div></div></div></section>
<section><h2>Advanced Operations on Collections</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:30%"><col style="width:70%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Operation</th><th class="tableblock halign-left valign-top"> Behavior</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>collectNested(&lt;exp&gt;)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Similar to <code>collect()</code>, but does not flatten the result if it is a collections of collections.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>closure()</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Recursively evaluates and expression.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>iterate()</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Generic operation that applies to any collection.</p></td></tr></table>
<hr></div></section>
<section><h2>Collect Nested</h2><div class="slide-content"><div class="paragraph"><p>Similar to <code>collect()</code>, without flattening collections of collections.</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">University</span>
    <span style="color: #999988;font-style: italic">-- All university instructors, grouped by department:</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">department</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">collectNested</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">instructors</span><span style="background-color: #f8f8f8">)</span></code></pre></div></div>
<div class="paragraph"><p>Collections of collections can be flattened with the <code>flatten()</code> operation:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl">    <span style="color: #000000;font-weight: bold">Set</span><span style="color: #a61717;background-color: #e3d2d2">{</span><span style="color: #000000;font-weight: bold">Set</span><span style="color: #a61717;background-color: #e3d2d2">{</span><span style="color: #009999">1</span><span style="background-color: #f8f8f8">,</span> <span style="color: #009999">2</span><span style="color: #a61717;background-color: #e3d2d2">}</span><span style="background-color: #f8f8f8">,</span> <span style="color: #000000;font-weight: bold">Set</span><span style="color: #a61717;background-color: #e3d2d2">{</span><span style="color: #009999">3</span><span style="background-color: #f8f8f8">,</span> <span style="color: #009999">4</span><span style="color: #a61717;background-color: #e3d2d2">}}</span> <span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">flatten</span><span style="background-color: #f8f8f8">()</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #000000;font-weight: bold">Set</span><span style="color: #a61717;background-color: #e3d2d2">{</span><span style="color: #009999">1</span><span style="background-color: #f8f8f8">,</span> <span style="color: #009999">2</span><span style="background-color: #f8f8f8">,</span> <span style="color: #009999">3</span><span style="background-color: #f8f8f8">,</span> <span style="color: #009999">4</span><span style="color: #a61717;background-color: #e3d2d2">}</span></code></pre></div></div></div></section>
<section><h2>Closures</h2><div class="slide-content"><div class="ulist"><ul><li><p>The <code>closure()</code> operation recursively invokes an OCL expression over a <em>source</em> and adds the successive results to the <em>source</em>.</p></li><li><p>The iteration finishes when the expression evaluation returns an empty set.</p></li></ul></div>
<div class="paragraph"><p>Syntax:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="background-color: #f8f8f8">source</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">closure</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">v</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">class</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">name</span><span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #000000;font-weight: bold">|</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">expression</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">with</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">v</span><span style="color: #000000;font-weight: bold">&gt;</span><span style="background-color: #f8f8f8">)</span></code></pre></div></div>
<div class="paragraph"><p>Example:</p></div>
<div class="openblock columns"><div class="content"><div class="listingblock col-6"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Person</span>
<span style="color: #000000;font-weight: bold">def</span> <span style="background-color: #f8f8f8">descendants</span><span style="background-color: #f8f8f8">()</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Set</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">Person</span><span style="background-color: #f8f8f8">)</span> <span style="color: #000000;font-weight: bold">=</span>
<span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">children</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">closure</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">children</span><span style="background-color: #f8f8f8">)</span></code></pre></div></div>
<div class="imageblock col-6" style="text-align: center"><img src="images/family.svg" alt="family" width="600px"></div></div></div></div></section>
<section><h2>Iterate</h2><div class="slide-content"><div class="paragraph"><p>Generic operation on collections.</p></div>
<div class="paragraph"><p>Syntax:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">Collection</span><span style="background-color: #f8f8f8">(</span><span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">T</span><span style="color: #000000;font-weight: bold">&gt;</span><span style="background-color: #f8f8f8">)</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">iterate</span><span style="background-color: #f8f8f8">(</span><span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">elm</span><span style="color: #000000;font-weight: bold">&gt;</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">T</span><span style="color: #000000;font-weight: bold">&gt;</span><span style="background-color: #f8f8f8">;</span> <span style="background-color: #f8f8f8">answer</span><span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">T</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">value</span><span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #000000;font-weight: bold">|</span>
    <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">expr</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">with</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">elm</span><span style="color: #000000;font-weight: bold">-and-</span><span style="background-color: #f8f8f8">response</span><span style="color: #000000;font-weight: bold">&gt;</span><span style="background-color: #f8f8f8">)</span></code></pre></div></div>
<div class="paragraph"><p>Examples:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Department</span> <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">select</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">age</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">50</span><span style="background-color: #f8f8f8">)</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">notEmpty</span><span style="background-color: #f8f8f8">()</span>

    <span style="color: #999988;font-style: italic">-- equivalent expression:</span>
    <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">instructors</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">iterate</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">:</span> <span style="background-color: #f8f8f8">Professor</span><span style="background-color: #f8f8f8">;</span>
        <span style="background-color: #f8f8f8">answer</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Set</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">Professor</span><span style="background-color: #f8f8f8">)</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #000000;font-weight: bold">Set</span> <span style="color: #a61717;background-color: #e3d2d2">{}</span> <span style="color: #000000;font-weight: bold">|</span>
            <span style="color: #000000;font-weight: bold">if</span> <span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">age</span> <span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #009999">50</span> <span style="color: #000000;font-weight: bold">then</span> <span style="background-color: #f8f8f8">answer</span><span style="background-color: #f8f8f8">.</span><span style="color: #990000;font-weight: bold">including</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">each</span><span style="background-color: #f8f8f8">)</span>
            <span style="color: #000000;font-weight: bold">else</span> <span style="background-color: #f8f8f8">answer</span> <span style="color: #000000;font-weight: bold">endif</span><span style="background-color: #f8f8f8">)</span> <span style="color: #000000;font-weight: bold">-&gt;</span> <span style="color: #990000;font-weight: bold">notEmpty</span><span style="background-color: #f8f8f8">()</span></code></pre></div></div></div></section>
<section><h2>Other operations on Collections</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:30%"><col style="width:70%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Operation</th><th class="tableblock halign-left valign-top">Behavior</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>includes(&lt;elem&gt;)</code>, <code>excludes(&lt;elem&gt;)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Checks if <code>&lt;elem&gt;</code> belongs (<em>resp</em>. not belongs) to the collection.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>includesAll(&lt;coll&gt;)</code>, <code>excludesAll(&lt;coll&gt;)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Checks if all elements of <code>&lt;coll&gt;</code> belong (<em>resp</em>. not belong) to the collection.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>union(&lt;coll&gt;)</code>, <code>intersection(&lt;coll&gt;)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Set operations.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>asSet()</code>, <code>asBag()</code>, <code>asSequence()</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Type conversion.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>including(&lt;elem&gt;)</code>, <code>excluding(&lt;elem&gt;)</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Creates a new collection that includes (<em>resp</em>. excludes) <code>&lt;elem&gt;</code></p></td></tr></table></div></section>
<section><h2>Predefined Properties (1/2)</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:70%"><col style="width:30%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Operation</th><th class="tableblock halign-left valign-top">Behavior</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>oclIsTypeOf(t : OclType):Boolean</code></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>oclIsKindOf(t : OclType):Boolean</code></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>oclInState(s : OclState):Boolean</code></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>oclIsNew():Boolean</code></p></td><td class="tableblock halign-left valign-top"></td></tr></table></div></section>
<section><h2>Predefined Properties (1/2)</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:70%"><col style="width:30%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Operation</th><th class="tableblock halign-left valign-top">Behavior</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>oclIsUndefined():Boolean</code></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>oclIsInvalid():Boolean</code></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>oclAsType(t : Type):Type</code></p></td><td class="tableblock halign-left valign-top"></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>allInstances():Set(T)</code></p></td><td class="tableblock halign-left valign-top"></td></tr></table>
<div class="paragraph"><p>Examples:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">University</span>
    <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="color: #990000;font-weight: bold">oclIsTypeOf</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">University</span><span style="background-color: #f8f8f8">)</span>
    <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">not</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="color: #990000;font-weight: bold">oclIsTypeOf</span><span style="background-color: #f8f8f8">(</span><span style="background-color: #f8f8f8">Department</span><span style="background-color: #f8f8f8">)</span></code></pre></div></div></div></section>
<section><h2><code>Let</code></h2><div class="slide-content"><div class="paragraph"><p>When an OCL sub-expression appears several times on a constraint, it is possible to use an <strong>alias</strong> to replace if:</p></div>
<div class="paragraph"><p>Syntax:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">let</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">alias</span><span style="color: #000000;font-weight: bold">&gt;</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">Type</span><span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">ocl</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">expression</span><span style="color: #000000;font-weight: bold">&gt;</span> <span style="color: #000000;font-weight: bold">in</span> <span style="color: #000000;font-weight: bold">&lt;</span><span style="background-color: #f8f8f8">expression</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">with</span><span style="color: #000000;font-weight: bold">-</span><span style="background-color: #f8f8f8">alias</span><span style="color: #000000;font-weight: bold">&gt;</span></code></pre></div></div>
<div class="paragraph"><p>Example:</p></div>
<div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="ocl"><span style="color: #000000;font-weight: bold">context</span> <span style="background-color: #f8f8f8">Person</span> <span style="color: #000000;font-weight: bold">inv</span><span style="background-color: #f8f8f8">:</span>
    <span style="color: #000000;font-weight: bold">let</span> <span style="background-color: #f8f8f8">income</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #000000;font-weight: bold">Integer</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #0086B3">self</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">job</span><span style="background-color: #f8f8f8">.</span><span style="background-color: #f8f8f8">salary</span><span style="color: #000000;font-weight: bold">-&gt;</span><span style="color: #990000;font-weight: bold">sum</span><span style="background-color: #f8f8f8">()</span> <span style="color: #000000;font-weight: bold">in</span>
    <span style="color: #000000;font-weight: bold">if</span> <span style="background-color: #f8f8f8">isUnemployed</span> <span style="color: #000000;font-weight: bold">then</span>
        <span style="background-color: #f8f8f8">income</span> <span style="color: #000000;font-weight: bold">&lt;</span> <span style="color: #009999">100</span>
    <span style="color: #000000;font-weight: bold">else</span>
        <span style="background-color: #f8f8f8">income</span> <span style="color: #000000;font-weight: bold">&gt;=</span> <span style="color: #009999">100</span>
    <span style="color: #000000;font-weight: bold">endif</span></code></pre></div></div>
<div class="ulist"><ul><li><p>Note that this is only an alias, not an assignment.</p></li></ul></div></div></section>
<section class="impact"><h2>Thank you for your attention!</h2></section>
<section><div class="slide-content"><div class="paragraph"><p><strong>Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)</strong></p></div>
<div class="ulist center"><div class="title">You are free to:</div><ul><li><p><strong>Share</strong> — copy and redistribute the material in any medium or format</p></li><li><p><strong>Adapt</strong> — remix, transform, and build upon the material for any purpose, even commercially.</p></li></ul></div>
<div class="paragraph"><p>The licensor cannot revoke these freedoms as long as you follow the license terms.</p></div>
<div class="ulist center"><div class="title">Under the following terms:</div><ul><li><p><strong>Attribution</strong> — You must give appropriate credit, provide a link to the license, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.</p></li><li><p><strong>NonCommercial</strong> — You may not use the material for commercial purposes.</p></li><li><p><strong>ShareAlike</strong> — If you remix, transform, or build upon the material, you must distribute your contributions under the same license as the original.</p></li></ul></div>
<div class="paragraph"><p><strong>No additional restrictions</strong> — You may not apply legal terms or technological measures that legally restrict others from doing anything the license permits.</p></div></div></section></div></div><script src="reveal.js/js/reveal.js"></script><script>Array.prototype.slice.call(document.querySelectorAll('.slides section')).forEach(function(slide) {
  if (slide.getAttribute('data-background-color')) return;
  // user needs to explicitly say he wants CSS color to override otherwise we might break custom css or theme (#226)
  if (!(slide.classList.contains('canvas') || slide.classList.contains('background'))) return;
  var bgColor = getComputedStyle(slide).backgroundColor;
  if (bgColor !== 'rgba(0, 0, 0, 0)' && bgColor !== 'transparent') {
    slide.setAttribute('data-background-color', bgColor);
    slide.style.backgroundColor = 'transparent';
  }
});

// More info about config & dependencies:
// - https://github.com/hakimel/reveal.js#configuration
// - https://github.com/hakimel/reveal.js#dependencies
Reveal.initialize({
  // Display presentation control arrows
  controls: true,
  // Help the user learn the controls by providing hints, for example by
  // bouncing the down arrow when they first encounter a vertical slide
  controlsTutorial: true,
  // Determines where controls appear, "edges" or "bottom-right"
  controlsLayout: 'bottom-right',
  // Visibility rule for backwards navigation arrows; "faded", "hidden"
  // or "visible"
  controlsBackArrows: 'faded',
  // Display a presentation progress bar
  progress: true,
  // Display the page number of the current slide
  slideNumber: 'c/t',
  // Control which views the slide number displays on
  showSlideNumber: 'all',
  // Add the current slide number to the URL hash so that reloading the
  // page/copying the URL will return you to the same slide
  hash: false,
  // Push each slide change to the browser history. Implies `hash: true`
  history: true,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Vertical centering of slides
  center: false,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // See https://github.com/hakimel/reveal.js/#navigation-mode
  navigationMode: 'default',
  // Randomizes the order of slides each time the presentation loads
  shuffle: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags whether to include the current fragment in the URL,
  // so that reloading brings you to the same fragment position
  fragmentInURL: false,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Flags if we should show a help overlay when the questionmark
  // key is pressed
  help: true,
  // Flags if speaker notes should be visible to all viewers
  showNotes: false,
  // Global override for autolaying embedded media (video/audio/iframe)
  // - null: Media will only autoplay if data-autoplay is present
  // - true: All media will autoplay, regardless of individual setting
  // - false: No media will autoplay, regardless of individual setting
  autoPlayMedia: null,
  // Global override for preloading lazy-loaded iframes
  // - null: Iframes with data-src AND data-preload will be loaded when within
  //   the viewDistance, iframes with only data-src will be loaded when visible
  // - true: All iframes with data-src will be loaded when within the viewDistance
  // - false: All iframes with data-src will be loaded only when visible
  preloadIframes: null,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Use this method for navigation when auto-sliding
  autoSlideMethod: Reveal.navigateNext,
  // Specify the average time in seconds that you think you will spend
  // presenting each slide. This is used to show a pacing timer in the
  // speaker view
  defaultTiming: 120,
  // Specify the total time in seconds that is available to
  // present.  If this is set to a nonzero value, the pacing
  // timer will work out the time available for each slide,
  // instead of using the defaultTiming value
  totalTime: 0,
  // Specify the minimum amount of time you want to allot to
  // each slide, if using the totalTime calculation method.  If
  // the automated time allocation causes slide pacing to fall
  // below this threshold, then you will see an alert in the
  // speaker notes window
  minimumTimePerSlide: 0,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hide cursor if inactive
  hideInactiveCursor: true,
  // Time before the cursor is hidden (in ms)
  hideCursorTime: 5000,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  // Add `data-preview-link` and `data-preview-link="false"` to customise each link
  // individually
  previewLinks: false,
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: 'none',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Number of slides away from the current that are visible on mobile
  // devices. It is advisable to set this to a lower number than
  // viewDistance in order to save resources.
  mobileViewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',
  // Number of pixels to move the parallax background per slide
  // - Calculated automatically unless specified
  // - Set to 0 to disable movement along an axis
  parallaxBackgroundHorizontal: null,
  parallaxBackgroundVertical: null,
  // The display mode that will be used to show slides
  display: 'flex',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 1920,
  height: 1080,

  // Factor of the display size that should remain empty around the content
  margin: 0,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // PDF Export Options
  // Put each fragment on a separate page
  pdfSeparateFragments: true,
  // For slides that do not fit on a page, max number of pages
  pdfMaxPagesPerSlide: 1,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
      { src: 'reveal.js/plugin/notes/notes.js', async: true }
  ],

  

});</script><script>var dom = {};
dom.slides = document.querySelector('.reveal .slides');

function getRemainingHeight(element, slideElement, height) {
  height = height || 0;
  if (element) {
    var newHeight, oldHeight = element.style.height;
    // Change the .stretch element height to 0 in order find the height of all
    // the other elements
    element.style.height = '0px';
    // In Overview mode, the parent (.slide) height is set of 700px.
    // Restore it temporarily to its natural height.
    slideElement.style.height = 'auto';
    newHeight = height - slideElement.offsetHeight;
    // Restore the old height, just in case
    element.style.height = oldHeight + 'px';
    // Clear the parent (.slide) height. .removeProperty works in IE9+
    slideElement.style.removeProperty('height');
    return newHeight;
  }
  return height;
}

function layoutSlideContents(width, height) {
  // Handle sizing of elements with the 'stretch' class
  toArray(dom.slides.querySelectorAll('section .stretch')).forEach(function (element) {
    // Determine how much vertical space we can use
    var limit = 5; // hard limit
    var parent = element.parentNode;
    while (parent.nodeName !== 'SECTION' && limit > 0) {
      parent = parent.parentNode;
      limit--;
    }
    if (limit === 0) {
      // unable to find parent, aborting!
      return;
    }
    var remainingHeight = getRemainingHeight(element, parent, height);
    // Consider the aspect ratio of media elements
    if (/(img|video)/gi.test(element.nodeName)) {
      var nw = element.naturalWidth || element.videoWidth, nh = element.naturalHeight || element.videoHeight;
      var es = Math.min(width / nw, remainingHeight / nh);
      element.style.width = (nw * es) + 'px';
      element.style.height = (nh * es) + 'px';
    } else {
      element.style.width = width + 'px';
      element.style.height = remainingHeight + 'px';
    }
  });
}

function toArray(o) {
  return Array.prototype.slice.call(o);
}

Reveal.addEventListener('slidechanged', function () {
  layoutSlideContents(1920, 1080)
});
Reveal.addEventListener('ready', function () {
  layoutSlideContents(1920, 1080)
});
Reveal.addEventListener('resize', function () {
  layoutSlideContents(1920, 1080)
});</script></body></html>